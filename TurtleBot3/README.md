#### PID Controller

##### INITIAL SETUPS:
###### Step - 1
```
sudo apt-get install ros-noetic-joy ros-noetic-teleop-twist-joy ros-noetic-teleop-twist-keyboard ros-noetic-laser-proc ros-noetic-rgbd-launch ros-noetic-rosserial-arduino ros-noetic-rosserial-python ros-noetic-rosserial-client ros-noetic-rosserial-msgs ros-noetic-amcl ros-noetic-map-server ros-noetic-move-base ros-noetic-urdf ros-noetic-xacro ros-noetic-compressed-image-transport ros-noetic-rqt-image-view ros-noetic-gmapping ros-noetic-navigation ros-noetic-interactive-markers ros-noetic-pcl-ros
```
###### Step - 2
```
sudo apt install ros-noetic-hls-lfcd-lds-driver
```
###### Step - 3
```
sudo apt install ros-noetic-dynamixel-sdk
```
###### Step - 4
```
mkdir -p ~/catkin_ws/src
cd catkin_ws/src
git clone https://github.com/ROBOTIS-GIT/turtlebot3.git
git clone https://github.com/ROBOTIS-GIT/turtlebot3_simulations.git
```
###### Step - 5
```
catkin_make
```
##### Now the requried packages are installed and can be used to teleop, visualise in rviz and many more as per the requriements. The following is the data generated by using teleop and world file of turtlebot3 resulting in a 2-D map of the environment.
![map](https://user-images.githubusercontent.com/69350191/143897763-e6cbf390-97bb-46c6-8400-daece0ea052a.png)

#### PID 

##### In the controller.py file, we created a controller for the turtlebot-3 where it publishes to /cmd_vel topic and subscribes to /odom topics. Our objective was to create PI controller and further develop a PID controller to move the turtle bot from home position to desired location dynamically (Level - 3 autonomy) where in every iteration the error to reach the desired location reduces, before we launch our file. Let us understand what PID actually is ?

<img width="802" alt="pid-controller-diagram" src="https://user-images.githubusercontent.com/69350191/143899962-e05cb4b2-83ef-422b-bbdf-0098eb51da9d.png">

##### In general for any controller, as the time progresses the error i.e. the difference between the excepted output and actual output must be zero. Proportional Integral Derivative Controller is a closed-loop feedback controller that helps the plant to correct it's error by sending an appropriate command with respect to the error that occurred. Each controller blocks are tuned using constants called: k(p) - Proportional constant, k(i) - Integral Constant, k(d) - Derivative Constant.

#### Proportional Controller:
##### The obvious and easy method is proportional controller where the plant current is proportional to the current error. It being very simple has a major drawback - The steady state error. We performed a basic pid loop block diagram in simulink and collected the following graphs for better explanation. As we can see the blue line represents the desired state and there is a constant gap between the actual and desired plot. The error that exists is called the steady state error.
![p](https://user-images.githubusercontent.com/69350191/143901751-93d4c61a-4e6a-4de0-a893-d001ea6e8efa.png)

#### Integral Controller:
##### The Integrator has a memory of the past and usually sums up all the errors that happened in the past till current situation and then gives feedback in order to remove the steady-state error to reach the set point. It increases action in relation not only to the error but also the time for which it has persisted. A pure I-controller in addition, as we can observe will remove the steady state error as it recieves commands to reduce that error as it has the error amplified by ki constant given to the control surface of the plant. The following graph supports the explanation.

![pi](https://user-images.githubusercontent.com/69350191/143902435-9831f50d-c72f-4f2f-bc58-50409ff326bb.png)

#### Derivative Controller:
##### A derivative controller tries to bring the rate of chnage of error to zero. It aims flattening the error trajectory into a horizontal line, damping the force applied, and so reduces overshoot. As it checks the rate of change of error, it determines how we are approaching towards a setpoint and prematurely gives the feedback to the plant. This process helps in slowing down the plant actions when it is near to the set point in order to avoid an overshoot condition. Hence a smooth graph is produced as observed.

![pid](https://user-images.githubusercontent.com/69350191/143903485-7f89eafb-d9ab-4202-8350-ff2e31d80991.png)

###### In this project we targeted in making a PI controller to remove the steady state error. Hence as we can see in the video uploaded that it reaches the set point, if we tune the kp, ki terms the result becomes more optimum. Similar logic is proved even for derivative controller but in stage of developing a proper logic using time library.

##### Future works:

###### Modify it into a pid controller from pi controller and make it more optimum by introducing sensor data along with odom data.

###### Happy learning :)
